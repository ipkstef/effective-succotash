(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1867:function(e,s,r){Promise.resolve().then(r.bind(r,6911))},6911:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return a}});var n=r(7437),l=r(2265),o=r(1812),t=r.n(o);function a(){let[e,s]=(0,l.useState)([]),[r,o]=(0,l.useState)([]),[a,c]=(0,l.useState)([]),[i,d]=(0,l.useState)([]),[u,g]=(0,l.useState)("");return(0,n.jsx)("main",{className:"min-h-screen bg-gray-100 p-8",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md p-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"CSV Sorter"}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Upload CSV File"}),(0,n.jsx)("input",{type:"file",accept:".csv",onChange:e=>{var r;let n=null===(r=e.target.files)||void 0===r?void 0:r[0];n&&t().parse(n,{header:!0,complete:e=>{let r=e.data.filter(e=>!Object.values(e).some(e=>"string"==typeof e&&e.includes("Orders Contained in Pull Sheet")));s(r),o(Object.keys(r[0]))},error:e=>g("Error parsing CSV file")})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.length>0&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Sort Columns"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,n.jsxs)("select",{onChange:e=>c([{column:e.target.value,order:"asc"}]),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,n.jsx)("option",{value:"",children:"Primary Sort Column"}),r.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]}),(0,n.jsxs)("select",{onChange:e=>{let s=a[0];s&&c([{...s,order:e.target.value}])},className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,n.jsx)("option",{value:"asc",children:"Ascending"}),(0,n.jsx)("option",{value:"desc",children:"Descending"})]})]}),(0,n.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,n.jsxs)("select",{onChange:e=>{let s=a[0];s&&c([s,{column:e.target.value,order:"asc"}])},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,n.jsx)("option",{value:"",children:"Secondary Sort Column"}),r.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]}),(0,n.jsxs)("select",{onChange:e=>{let s=a[1];s&&c([a[0],{...s,order:e.target.value}])},className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,n.jsx)("option",{value:"asc",children:"Ascending"}),(0,n.jsx)("option",{value:"desc",children:"Descending"})]})]}),(0,n.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,n.jsxs)("select",{onChange:e=>{let s=a[1];s&&c([a[0],s,{column:e.target.value,order:"asc"}])},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,n.jsx)("option",{value:"",children:"Tertiary Sort Column"}),r.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]}),(0,n.jsxs)("select",{onChange:e=>{let s=a[2];s&&c([a[0],a[1],{...s,order:e.target.value}])},className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,n.jsx)("option",{value:"asc",children:"Ascending"}),(0,n.jsx)("option",{value:"desc",children:"Descending"})]})]})]}),a.length>0&&(0,n.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold",children:"Current Sort Order:"}),(0,n.jsx)("div",{className:"space-y-2",children:a.map((e,s)=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"w-4 h-4 bg-blue-500 rounded-full flex-shrink-0"}),(0,n.jsx)("span",{children:e.column}),(0,n.jsxs)("span",{className:"text-sm",children:["(","asc"===e.order?"asc":"desc",")"]})]}),(0,n.jsx)("button",{onClick:()=>{c(a.filter((e,r)=>r!==s))},className:"text-red-500 hover:text-red-700",children:"Remove"})]},s))})]})]}),(0,n.jsx)("button",{onClick:()=>{e.length&&d([...e].sort((e,s)=>{for(let{column:r,order:n}of a){let l=e[r],o=s[r];if("string"==typeof l&&"string"==typeof o){let e="asc"===n?l.localeCompare(o):o.localeCompare(l);if(0!==e)return e}else if("number"==typeof l&&"number"==typeof o){let e="asc"===n?l-o:o-l;if(0!==e)return e}else if("boolean"==typeof l&&"boolean"==typeof o){let e="asc"===n?(l?1:0)-(o?1:0):(o?1:0)-(l?1:0);if(0!==e)return e}else{let e=String(l),s=String(o),r="asc"===n?e.localeCompare(s):s.localeCompare(e);if(0!==r)return r}}return 0}))},className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:"Sort Data"}),i.length>0&&(0,n.jsx)("button",{onClick:()=>{if(!i.length)return;let e=t().unparse(i),s=new Blob([e],{type:"text/csv"}),r=URL.createObjectURL(s),n=document.createElement("a");n.href=r,n.download="sorted-data.csv",n.click(),URL.revokeObjectURL(r)},className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600",children:"Download Sorted CSV"})]}),u&&(0,n.jsx)("div",{className:"mt-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:u})]})})}}},function(e){e.O(0,[807,971,938,744],function(){return e(e.s=1867)}),_N_E=e.O()}]);